# Ruby/Rails ドリル復習 - 2026-01-28 (Session 2)

## 第1問：Ruby文法・メソッド

**問題：**

```ruby
a = nil
a ||= "cacao"
a ||= "chocolate"
p a
```

**選択肢：**

- A) `nil`
- B) `"cacao"`
- C) `"chocolate"`
- D) エラーになる

**正解：** B

**解説：**
`||=` 演算子（自己代入）は、左辺が偽（`nil` または `false`）の場合にのみ右辺の値を代入します。この場合、1回目の `||=` で `a` が `"cacao"` になるため、2回目は実行されません。

**公式リファレンス:**

- [演算子式 - 自己代入 (Ruby 3.3 リファレンスマニュアル)](https://docs.ruby-lang.org/ja/latest/doc/spec=2foperator.html#selfasgn)

---

## 第2問：Rails規約・ヘルパー

**問題：**
User（1）とArticle（多）の関係を定義する正しい組み合わせはどれですか？

**選択肢：**

- A) User: `has_many :articles`, Article: `belongs_to :user`
- B) User: `belongs_to :articles`, Article: `has_many :user`
- C) User: `has_one :article`, Article: `belongs_to :user`
- D) User: `has_many :articles`, Article: `has_many :user`

**正解：** A

**解説：**
一対多の関係では、親側に `has_many`（複数形）、子側に `belongs_to`（単数形）を記述します。

**公式リファレンス:**

- [Active Record の関連付け | Rails ガイド](https://railsguides.jp/association_basics.html)

---

## 第3問：よくあるミス・落とし穴

**問題：**
カラムの型を変更したい場合に適切なメソッドはどれですか？

**選択肢：**

- A) `rename_column`
- B) `change_column`
- C) `modify_column`
- D) `update_column`

**正解：** B

**解説：**
カラムの「型」や「制約」を変更するには `change_column` を使用します。昨日の問題（名前の変更：`rename_column`）との違いをしっかり押さえておきましょう。

**公式リファレンス:**

- [Active Record マイグレーション - カラムを変更する | Rails ガイド](https://railsguides.jp/active_record_migrations.html#%E3%82%AB%E3%83%A9%E3%83%A0%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B)

---

## 結果

**正解数：** 3/3 🎉

**今日のポイント：**

1. `||=` は変数が空（nil/false）の時だけ代入する（初期化に便利）。
2. `has_many` は複数形、`belongs_to` は単数形。
3. `change_column` は型変更、`rename_column` は名前変更。
