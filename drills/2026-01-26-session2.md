# Ruby/Rails ドリル復習 - 2026-01-26 (Session 2)

## 第1問：Rails規約・ヘルパー

**問題：**
Railsのコントローラで、複数のアクションで共通して行いたい処理を定義する際によく使われる、フィルター用のメソッドはどれですか？

**選択肢：**
- A) `before_action`
- B) `after_filter`
- C) `around_save`
- D) `before_validation`

**正解：** A

**解説：**
`before_action` は、コントローラのアクションが実行される前に特定のメソッドを呼び出すためのフィルターです。

**公式リファレンス:**
- [Action Controller の概要 - フィルター | Rails ガイド](https://railsguides.jp/action_controller_overview.html#%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%BC)

---

## 第2問：Ruby文法・メソッド

**問題：**
Rubyのシンボル（Symbol）と文字列（String）の性質に関する記述として、誤っているものはどれですか？

**選択肢：**
- A) シンボルはイミュータブル（破壊的な変更ができない）である。
- B) 同じ内容のシンボルは、メモリ上で常に同一のオブジェクトである。
- C) 文字列よりもシンボルのほうが、比較演算（`==` など）が高速である。
- D) シンボルは `"symbol".to_sym` のように、文字列から変換することはできない。

**正解：** D

**解説：**
シンボルは `"hello".to_sym` や `"hello".intern` メソッドを使って、文字列から簡単に変換することが可能です。

**公式リファレンス:**
- [クラス Symbol (Ruby 3.3 リファレンスマニュアル)](https://docs.ruby-lang.org/ja/latest/class/Symbol.html)

---

## 第3問：よくあるミス・落とし穴

**問題：**
Railsのモデルで、関連するデータを効率よく取得して「N+1問題」を回避するために使われるメソッドはどれですか？

**選択肢：**
- A) `pluck`
- B) `includes`
- C) `select`
- D) `joins`

**正解：** B

**解説：**
`includes` を使うことで、関連するテーブルのデータを一括で取得（Eager Loading）し、ループ内でのクエリ発行を抑えることができます。

**公式リファレンス:**
- [Active Record クエリインターフェイス - 関連付けを一括読み込みする | Rails ガイド](https://railsguides.jp/active_record_querying.html#%E9%96%A2%E9%80%A3%E4%BB%98%E3%81%91%E3%82%92%E4%B8%80%E6%8B%AC%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%99%E3%82%8B)

---

## 結果

**正解数：** 2/3

**今日のポイント：**
1. コントローラの共通処理は `before_action`
2. シンボルは文字列から `to_sym` で変換可能（高速・不変）
3. N+1問題の回避には `includes` (Eager Loading)
