# Ruby/Rails デイリードリル (2026-02-06-1)

## 問題1: Rubyのシンボル

以下のコードを実行した場合、結果として出力されるのはどれですか？

```ruby
hash = { a: 1, b: 2 }
p hash.keys[0].class
```

1. `String`
2. `Symbol`
3. `Hash`
4. `Array`

## 問題2: Railsのバリデーション

Railsのモデルで、ユーザーの年齢が18歳以上であることを検証するバリデーションとして最も適切なのはどれですか？

1. `validates :age, presence: true, minimum: 18`
2. `validates :age, presence: true, greater_than: 18`
3. `validates :age, presence: true, greater_than_or_equal_to: 18`
4. `validates :age, presence: true, min: 18`

## 問題3: Rubyのブロック

以下のコードを実行した場合、結果として出力されるのはどれですか？

```ruby
def my_method
  yield if block_given?
  "No block"
end

result = my_method do
  "Block given"
end

puts result
```

1. `"Block given"`
2. `"No block"`
3. `nil`
4. `エラーが発生する`

## 正解

問題1: 2 - `Symbol`
問題2: 3 - `validates :age, presence: true, greater_than_or_equal_to: 18`
問題3: 2 - `"No block"`

## 解説

### 問題1: Rubyのシンボル
Rubyでは、`{ a: 1, b: 2 }`という構文でハッシュを作成すると、キーはシンボルとして扱われます。このコードでは、`hash.keys[0]`で最初のキー（`:a`）を取得し、その`class`メソッドを呼び出しています。結果は`Symbol`クラスになります。

参考：[Ruby リファレンスマニュアル - シンボル](https://docs.ruby-lang.org/ja/latest/class/Symbol.html)

### 問題2: Railsのバリデーション
Railsでは、数値の大小関係を検証するために`greater_than`や`greater_than_or_equal_to`などのヘルパーが用意されています。年齢が18歳「以上」であることを検証するには、`greater_than_or_equal_to: 18`を使用します。`minimum`や`min`はActiveModelのバリデーションヘルパーとしては存在しません。

参考：[Rails ガイド - Active Record バリデーション](https://railsguides.jp/active_record_validations.html#numericality)

### 問題3: Rubyのブロック
このコードでは、`my_method`メソッドが`yield if block_given?`を実行していますが、これはブロックが渡された場合にのみ`yield`（ブロックを実行）します。しかし、`yield`の結果を返す`return`文がないため、メソッドの戻り値は最後に評価された式である`"No block"`になります。ブロックの戻り値は利用されていません。

参考：[Ruby リファレンスマニュアル - ブロック](https://docs.ruby-lang.org/ja/latest/doc/spec=2fcall.html#block)