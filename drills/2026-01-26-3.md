# Ruby/Rails ドリル復習 - 2026-01-26 (Test Session)

## 第1問：Ruby文法・メソッド

**問題：**

```ruby
result = "10".to_i(16)
p result
```

**選択肢：**

- A) `10`
- B) `16`
- C) `0`
- D) エラーになる

**正解：** B

**解説：**
`to_i` メソッドに引数を渡すと、その数値を「基数（進数）」として解釈します。`"10".to_i(16)` は、文字列の "10" を 16進数 として整数に変換するため、結果は `16` になります。

**公式リファレンス:**

- [String#to_i (Ruby 3.3 リファレンスマニュアル)](https://docs.ruby-lang.org/ja/latest/method/String/i/to_i.html)

---

## 第2問：Rails規約・ヘルパー

**問題：**
Railsのモデルで、あるカラムの値が「空でないこと（存在すること）」を検証したい場合に使用するバリデーションはどれですか？

**選択肢：**

- A) `validates :name, existence: true`
- B) `validates :name, present: true`
- C) `validates :name, presence: true`
- D) `validates :name, allow_nil: false`

**正解：** C

**解説：**
`presence: true` を指定することで、指定した属性が `blank?` でないこと（nilや空文字でないこと）をチェックします。

**公式リファレンス:**

- [Active Record バリデーション | Rails ガイド](https://railsguides.jp/active_record_validations.html#presence)

---

## 第3問：よくあるミス・落とし穴

**問題：**
Rubyの論理演算において、以下のコードを実行した際、変数 `result` に代入される値は何ですか？

```ruby
result = nil || false || "cacao" || 0
```

**選択肢：**

- A) `true`
- B) `"cacao"`
- C) `0`
- D) `nil`

**正解：** B

**解説：**
Rubyの `||` 演算子は、左から順に評価し、最初に「真（falseまたはnil以外）」となった値を返します。この場合、`nil` と `false` は偽なので、最初の真である `"cacao"` が返されます。

**公式リファレンス:**

- [演算子式 (Ruby 3.3 リファレンスマニュアル)](https://docs.ruby-lang.org/ja/latest/doc/spec=2foperator.html#and)

**補足：**
Rubyでは `0` も「真」として扱われることに注意が必要です（他の言語では偽として扱われることが多いですが、Rubyで偽なのは `nil` と `false` だけです）。

---

## 結果

**正解数：** 2/3

**今日のポイント：**

1. `to_i(n)` はn進数として変換する
2. 存在チェックのバリデーションは `presence: true`
3. Rubyで偽なのは `nil` と `false` だけ（0も真！）
